<div class="container-fluid">
  <div class="row" style="position: relative;">
    <nav class="col-sm-3 col-md-2 hidden-xs-down bg-faded sidebar">
      <div id="sectionsListContainer">
        <% if false %>
          <%= render "documents/sections/sections_list", sections: @sections %>
        <% end %>
      </div>
      <br>
      <div class="row justify-content-center">
        <button class="btn btn-outline-info" data-toggle="modal" data-target="#newSectionModal">
          <i class="fa fa-plus"></i>
          Add new section
        </button>
      </div>
    </nav>
    <%= render "documents/sections/new_section_modal", document: @document %>
    <main class="col-sm-9 offset-sm-3 col-md-10 offset-md-2 pt-3" id="sectionsContentEditor">
      <% if false %>
        <%= render "documents/sections/section_content_editor", sections: @sections, section: @sections.first, document: @document, sections_size: @sections.size %>
      <% end %>
    </main>
  </div>
</div>

<script>
  var sections = <%= raw @sectionsJSON %>;
  var currentSection = <%= raw @currentSection.id %>;
  var stl = new SectionTreeList();
  stl.init(sections, currentSection);
  stl.render();
  console.log(stl);
</script>